# Reasoning åŠŸèƒ½å¿«é€Ÿå‚è€ƒ

## ğŸ¯ ä¸€å¥è¯æ¦‚è¿°

Web UI ç°å·²æ”¯æŒæ˜¾ç¤º AI æ¨¡å‹çš„æ¨ç†è¿‡ç¨‹ï¼ˆæ€è€ƒé“¾ï¼‰ï¼Œè®©ä½ çœ‹åˆ° AI æ˜¯å¦‚ä½•æ€è€ƒçš„ï¼

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å¯åŠ¨æœåŠ¡å™¨

```powershell
.\.agent\start.ps1
```

### 2. è®¿é—® Web UI

```
http://localhost:8080/
```

### 3. å¼€å§‹èŠå¤©

è¾“å…¥ä»»ä½•é—®é¢˜ï¼Œå¦‚æœ API è¿”å› reasoningï¼Œä½ ä¼šçœ‹åˆ°ï¼š

- æ·¡ç´«è‰²èƒŒæ™¯çš„"æ€è€ƒè¿‡ç¨‹"åŒºåŸŸ
- ğŸ§  å›¾æ ‡æ ‡è¯†
- å®æ—¶æµå¼æ›´æ–°

---

## ğŸ“Š API æ ¼å¼

### è¯·æ±‚

```json
{
  "model": "x",
  "messages": [{ "role": "user", "content": "ä½ å¥½" }],
  "stream": true
}
```

### å“åº”ï¼ˆåŒ…å« reasoningï¼‰

```json
{
  "choices": [
    {
      "delta": {
        "reasoning": "æˆ‘æ”¶åˆ°äº†é—®å€™ï¼Œåº”è¯¥å‹å¥½åœ°å›åº”...",
        "content": "ä½ å¥½ï¼å¾ˆé«˜å…´è§åˆ°ä½ ã€‚"
      }
    }
  ]
}
```

---

## ğŸ¨ è§†è§‰æ•ˆæœ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– åŠ©æ‰‹                         â”‚
â”‚                                 â”‚
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—   â”‚
â”‚ â•‘ ğŸ§  æ€è€ƒè¿‡ç¨‹                â•‘   â”‚
â”‚ â•‘                           â•‘   â”‚
â”‚ â•‘ æˆ‘æ”¶åˆ°äº†é—®å€™ï¼Œ            â•‘   â”‚
â”‚ â•‘ åº”è¯¥å‹å¥½åœ°å›åº”...         â•‘   â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                 â”‚
â”‚ ä½ å¥½ï¼å¾ˆé«˜å…´è§åˆ°ä½ ã€‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ¨ ä¸»è¦ç‰¹æ€§

| ç‰¹æ€§          | è¯´æ˜                   |
| ------------- | ---------------------- |
| ğŸ§  æ€è€ƒå¯è§†åŒ– | æ˜¾ç¤º AI çš„æ¨ç†è¿‡ç¨‹     |
| âš¡ å®æ—¶æ›´æ–°   | æµå¼æ˜¾ç¤ºï¼Œè¾¹æ€è€ƒè¾¹å±•ç¤º |
| ğŸ¨ ç‹¬ç«‹æ ·å¼   | æ·¡ç´«è‰²èƒŒæ™¯ï¼Œæ˜“äºåŒºåˆ†   |
| ğŸ“ ä¿ç•™æ ¼å¼   | æ¢è¡Œã€ç©ºæ ¼éƒ½ä¿ç•™       |
| ğŸ”„ å‘åå…¼å®¹   | ä¸å½±å“ç°æœ‰åŠŸèƒ½         |

---

## ğŸ”§ æŠ€æœ¯å®ç°

### CSS å…³é”®æ ·å¼

```css
.reasoning-section {
  background: rgba(79, 70, 229, 0.05);
  border-left: 3px solid #4f46e5;
}
```

### JavaScript å…³é”®é€»è¾‘

```javascript
if (delta?.reasoning) {
  // åˆ›å»º/æ›´æ–°æ¨ç†åŒºåŸŸ
}
if (delta?.content) {
  // åˆ›å»º/æ›´æ–°å›å¤å†…å®¹
}
```

---

## âœ… å…¼å®¹æ€§

| åœºæ™¯           | æ”¯æŒ |
| -------------- | ---- |
| åªæœ‰ content   | âœ…   |
| åªæœ‰ reasoning | âœ…   |
| ä¸¤è€…éƒ½æœ‰       | âœ…   |
| äº¤æ›¿å‡ºç°       | âœ…   |
| æµå¼å“åº”       | âœ…   |
| éæµå¼å“åº”     | âš ï¸   |

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- **åŠŸèƒ½æ–‡æ¡£**: `.agent/docs/Stage1/reasoning-support.md`
- **å®ç°æ€»ç»“**: `.agent/docs/Stage1/reasoning-implementation-summary.md`
- **åŠŸèƒ½æ¸…å•**: `.agent/docs/Stage1/feature-checklist.md`
- **éªŒæ”¶æ¸…å•**: `.agent/docs/Stage1/acceptance-checklist.md`

---

## ğŸ§ª æµ‹è¯•

### è‡ªåŠ¨åŒ–æµ‹è¯•

```powershell
.\.agent\tests\Stage1\test-reasoning.ps1
```

### æ‰‹åŠ¨æµ‹è¯•

1. å¯åŠ¨æœåŠ¡å™¨
2. è®¿é—® `http://localhost:8080/`
3. è¾“å…¥ä»»ä½•é—®é¢˜
4. è§‚å¯Ÿæ˜¯å¦æ˜¾ç¤º"ğŸ§  æ€è€ƒè¿‡ç¨‹"åŒºåŸŸ

---

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜: æ²¡æœ‰æ˜¾ç¤º reasoning

**åŸå› **: API å¯èƒ½æ²¡æœ‰è¿”å› `reasoning` å­—æ®µ  
**è§£å†³**: æ£€æŸ¥ API å“åº”æ ¼å¼

### é—®é¢˜: æ ·å¼ä¸æ­£ç¡®

**åŸå› **: æµè§ˆå™¨ç¼“å­˜  
**è§£å†³**: å¼ºåˆ¶åˆ·æ–° (Ctrl+F5)

### é—®é¢˜: å†…å®¹é‡å 

**åŸå› **: DOM ç»“æ„å¼‚å¸¸  
**è§£å†³**: é‡æ–°åŠ è½½é¡µé¢

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

1. **æŸ¥çœ‹å®Œæ•´æ¨ç†è¿‡ç¨‹**  
   å¦‚æœæ¨ç†å†…å®¹å¾ˆé•¿ï¼Œå‘ä¸Šæ»šåŠ¨å¯æŸ¥çœ‹å®Œæ•´å†…å®¹

2. **å¯¹æ¯”æ€è€ƒå’Œå›ç­”**  
   é€šè¿‡æ¨ç†åŒºåŸŸï¼Œäº†è§£ AI å¦‚ä½•ä»æ€è€ƒåˆ°ç»“è®º

3. **å­¦ä¹  AI æ€ç»´æ¨¡å¼**  
   è§‚å¯Ÿä¸åŒé—®é¢˜çš„æ¨ç†è¿‡ç¨‹ï¼Œç†è§£ AI å†³ç­–é€»è¾‘

---

## ğŸ”® æœªæ¥è®¡åˆ’

- [ ] æŠ˜å /å±•å¼€æ¨ç†åŒºåŸŸ
- [ ] Markdown æ¸²æŸ“
- [ ] å¤åˆ¶æ¨ç†å†…å®¹
- [ ] éæµå¼æ”¯æŒ
- [ ] è¯­æ³•é«˜äº®

---

## ğŸ“ åé¦ˆ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š

- ğŸ“ æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£
- ğŸ› æäº¤ Issue
- ğŸ’¬ è”ç³»ç»´æŠ¤å›¢é˜Ÿ

---

**ç‰ˆæœ¬**: v1.1.0  
**æ›´æ–°æ—¥æœŸ**: 2026-01-08  
**åŠŸèƒ½**: Reasoning Support

---

## ğŸ“ ç¤ºä¾‹ä»£ç 

### cURL æµ‹è¯•

```bash
curl -N http://localhost:8080/v1/chat/completions \
  -H "Content-Type: application/json" \
  -d '{
    "model": "x",
    "messages": [{"role": "user", "content": "è§£é‡Šä¸€ä¸‹é‡å­çº ç¼ "}],
    "stream": true
  }'
```

### Python æµ‹è¯•

```python
from openai import OpenAI

client = OpenAI(
    base_url="http://localhost:8080/v1",
    api_key="dummy"
)

response = client.chat.completions.create(
    model="x",
    messages=[{"role": "user", "content": "ä½ å¥½"}],
    stream=True
)

for chunk in response:
    delta = chunk.choices[0].delta
    if hasattr(delta, 'reasoning'):
        print(f"ğŸ’­ {delta.reasoning}", end='')
    if hasattr(delta, 'content'):
        print(f"ğŸ’¬ {delta.content}", end='')
```

---

**å¿«é€Ÿå‚è€ƒå¡ç‰‡ END**

éœ€è¦æ›´å¤šä¿¡æ¯ï¼ŸæŸ¥çœ‹ [å®Œæ•´æ–‡æ¡£](./reasoning-support.md)
